'use strict';
/*

HOKUTO

version 0.0.2 ~7KB
build #308 on 3/10/2020
with Malta 4.1.25
*/
var hokuto=function(){function t(e){var n=this,i=!1;this.status=t.STATUSES.PENDING,this.value=null,this.cause=null,this.resolvers=this.resolvers||[],this.rejectors=this.rejectors||[],this.finalizers=this.finalizers||[],e=e||function(){};try{e(function(e){i||n.status!==t.STATUSES.PENDING||(i=!0,n.status=t.STATUSES.FULFILLED,n.value=e,t.roll(n.resolvers,"value",n),t.roll(n.finalizers,"value",n))},function(e){i||n.status!==t.STATUSES.PENDING||(i=!0,n.status=t.STATUSES.REJECTED,n.cause=e,t.roll(n.rejectors,"cause",n),t.roll(n.finalizers,"cause",n))})}catch(e){return t.reject(e.message)}return this}function e(t){this.config=t,this.parent=t.target,this.node=document.createElement(t.tag||"div"),this.rendered=!1,this.toSolve=0,this.data="data"in t?t.data:{},this.dataSet={},this.rootNode="rootNode"in t?t.rootNode:this,this.parentNode="parentNode"in t?t.parentNode:this,this.resolve=function(){},this.reset=function(){},this.setMethods(),this.init()}t.roll=function(t,e,n){t.forEach(function(t){t(n[e])},n)},t.prototype.resolve=function(e){return t.call(this,function(t,n){return t(e)})},t.prototype.reject=function(e){return t.call(this,function(t,n){return n(e)})},t.prototype.launch=function(e){return t.call(this,e)},t.prototype.then=function(e,n){switch(this.status){case t.STATUSES.REJECTED:t.roll(this.rejectors,"cause",this);break;case t.STATUSES.PENDING:this.resolvers.push(e),n&&this.rejectors.push(n);break;case t.STATUSES.FULFILLED:e(this.value)}return this},t.prototype.catch=function(e){switch(this.status){case t.STATUSES.PENDING:this.rejectors.push(e);break;case t.STATUSES.REJECTED:return e.call(this,this.cause)}return this},t.prototype.finally=function(e){return this.finalizers.push(e),this.status!==t.STATUSES.PENDING&&t.roll(this.finalizers,"value",this),this},t.STATUSES={PENDING:"PENDING",FULFILLED:"FULFILLED",REJECTED:"REJECTED"},t._isFunc=function(t){return"function"==typeof t},t._isIterable=function(e){return null!=e&&t._isFunc(e[Symbol.iterator])},t.one=function(e){return new t(e)},t.all=function(e){if(!t._isIterable(e))return t.reject("Balle.all acceps an Iterable Promise only");var n=[],i=e.length,o=0;return new t(function(t,r){e.forEach(function(e,s){"REJECTED"==e.status&&r(e.cause),e.then(function(e){o++,n[s]=e,o==i&&t(n)}).catch(r)})})},t.race=function(e){return t._isIterable(e)?new t(function(t,n){e.forEach(function(e){e.then(t).catch(n)})}):t.reject("Balle.race acceps an Iterable Promise only")},t.chain=function(e){if(!t._isIterable(e))return t.reject("Balle.chain acceps an Iterable Promise only");var n=e.length;return new t(function(t,i){!function o(r,s){return r===n?t(s):e[r](s).then(function(t){o(++r,t)}).catch(function(t){i(t)})}(0)})},t.reject=function(e){return new t(function(t,n){return n(e)})},t.resolve=function(e){return new t(function(n,i){e instanceof t?e.then(n).catch(i):n(e)})},"object"==typeof exports&&(module.exports=t);var n=function(t){function n(t,e){var n;if(typeof e!==h)for(n in e)"float"===n?t.style[n.replace(/^float$/i,"cssFloat")]=e[n]:t.style[n]=e[n]}function i(t,e){if(typeof e!==h)for(var n in e)l.indexOf(n)<0&&t.setAttribute(n,e[n])}function o(t,e){if(typeof e!==h)for(var n in e)t.dataset[n]=e[n]}function r(t){return""+t}function s(t,e){t.appendChild(document.createTextNode(e))}function c(t,e){t.innerHTML=r(e)}function a(t){return t instanceof e}function u(t,e){f.unhandlers[t]=f.unhandlers[t]||[],f.unhandlers[t].push(e)}var h="undefined",l=["innerHTML","style","dataset","className"],f={events:{getElementDeterminant:function(t){return t.tagName.match(/input|textarea|select/i)?"value":"innerHTML"},getElementEvent:function(t){return t.tagName.match(/input|textarea/i)?"input":"change"}},unhandlers:{}},d=function(){function e(t,e,n){u(t,function(){p(t,e,n)})}return"addEventListener"in t?function(t,n,i){t.addEventListener.apply(t,[n,i,!1]),e(t,n,i)}:"attachEvent"in t?function(t,n,i){t.attachEvent.apply(t,["on"+n,i]),e(t,n,i)}:function(){throw new Error("No straight way to bind an event")}}(),p=function(){return"removeEventListener"in t?function(t,e,n){t.removeEventListener(e,n)}:"detachEvent"in t?function(t,e,n){t.detachEvent.apply(t,["on"+e,n])}:function(){throw new Error("No straight way to unbind an event")}}(),v=function(e){return e||(e=t.event,e.cancelBubble=!0,e.returnValue=!1),"stopPropagation"in e&&e.stopPropagation(),e.preventDefault(),!1},E=function(e){e=e||t.event;var n=e.currentTarget||typeof e.target!==h?e.target:e.srcElement;if(!n)return!1;for(;3===n.nodeType&&null!==n.parentNode;)n=n.parentNode;return n},g=function(){var t,e,n=[],i=setInterval(function(){if("complete"===document.readyState)for(clearInterval(i),t=0,e=n.length;t<e;t++)n[t].call(this)},10);return function(t){"complete"===document.readyState?t.call(this):n.push(t)}}();return{on:d,off:p,kill:v,eventTaget:E,ready:g,isUnode:a,setText:s,setHtml:c,setStyle:n,setAttrs:i,setData:o}}(window);return e.prototype.init=function(){this.rendered=!1,this.setCall("Events,Text,Html,Style,Attrs,Data,Children,Cbs")},e.prototype.setCall=function(t){var e=this;t.split(/,/).forEach(function(t){e["set"+t]()})},e.prototype.cleanup=function(){this.node.innerHTML="",this.node.parentNode.removeChild(this.node)},e.prototype.setChildren=function(){var t=this,n=[];if("children"in this.config){var i={target:t.node,rootNode:t.rootNode,parentNode:t};n="function"==typeof this.config.children?this.config.children.call(this).map(function(t){return new e(Object.assign({},t,i))}):this.config.children.map(function(t){return new e(Object.assign({},t,i))})}this.toSolve=n.length,this.children=n},e.prototype.setMethods=function(){var t,e=this,n=Object.keys(this.config);return n.forEach(function(n){(t=n.match(/^method_(\w*)$/i))&&(t[1]in e?console.warn("[WARNING] : method `"+t[0]+" cant be added, would override existing element."):e[t[1]]=e.config[t[0]].bind(e))}),this},e.prototype.setCbs=function(){this.cb="cb"in this.config&&"function"==typeof this.config.cb?this.config.cb.bind(this):this.solve.bind(this)},e.prototype.setStyle=function(t){t&&(this.config.style=Object.assign(this.config.style,t)),this.config.style&&n.setStyle(this.node,this.config.style)},e.prototype.setAttrs=function(t){t&&(this.config.attrs=Object.assign(this.config.attrs,t)),this.config.attrs&&n.setAttrs(this.node,this.config.attrs)},e.prototype.setData=function(t){t&&(this.config.dataSet=Object.assign(this.config.dataSet,t)),this.config.dataSet&&(this.dataSet=this.config.dataSet,n.setDataSet(this.node,this.dataSet))},e.prototype.setText=function(t){void 0!==t&&(this.config.text=t),void 0!==this.config.text&&n.setText(this.node,this.config.text)},e.prototype.setHtml=function(t){void 0!==t&&(this.config.html=t),void 0!==this.config.html&&n.setHtml(this.node,this.config.html)},e.prototype.killEvent=function(t){n.kill(t)},e.prototype.setEvents=function(){var t,e,i,o=this;for(t in o.config)(e=t.match(/^on([A-Z]{1}[a-z]*)$/))&&(i=e[1].toLowerCase(),function(t){n.on(o.node,i,function(e){o.config[t].call(o,e)})}(t));return this},e.prototype.done=e.prototype.solve=function(){--this.toSolve<=0&&(this.parent.appendChild(this.node),this.rendered=!0,this.resolve(this))},e.prototype.render=function(){var e=this,n=new t(function(t,n){e.resolve=t,e.reject=n});return this.rendered=!1,this.toSolve>0?this.children.forEach(function(t){t.render().then(function(){e.node.appendChild(t.node),e.cb()})}):this.rendered=!0,this.cb(),n},{}.solve=function(t){return{then:function(e){return e(t)}}},{render:function(t){var n=t.target,i=document.createDocumentFragment();return new e(Object.assign({},t,{target:i})).render().then(function(t){return n.appendChild(i),t})},renderWithComponents:function(t){console.log("init",t)}}}();